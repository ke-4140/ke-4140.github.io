{"version":3,"sources":["components/Header.js","components/Button.js","components/Card.js","features/systemSlice.js","App.js","app/store.js","features/editor/Timeline.js","features/preview/PDFTemplate.js","serviceWorker.js","index.js","features/editor/Editor.js","features/preview/Preview.js","features/export/Export.js"],"names":["Header","className","to","Button","onClick","label","iconBefore","iconAfter","width","height","type","style","Card","onPress","flexDirection","children","justifyContent","systemSlice","createSlice","name","initialState","logo","extractionDetails","attributes","youtubeURL","frames","keyframes","totalVideoTime","frameScriptTuple","owner","jobIsCompleted","extractionProgress","loadedFramesNum","reducers","setYoutubeURL","state","action","payload","setOwner","setFrames","setFrameScriptTuple","setAttributes","setContents","contents","addKeyframes","concat","appendKeyFrame","vid_time","index","img_addr","imgAddr","userCreated","completesJob","setExtractionProgress","addLoadedFramesNum","setTotalVideoTime","setExtractionDetails","setKeyFrames","toggleKeyframeFromFrame","map","frame","i","isKey","status","actions","fetchKeyFrames","start","dispatch","getState","console","log","newFrames","system","keyframe","isExtracted","fetchNewKeyFrame","addr","parseInt","filter","compare","a","b","setLoadedFramesNum","selectJobIsCompleted","selectExtractionProgress","selectYoutubeURL","selectFrames","selectAttributes","selectContents","App","useDispatch","useState","link","setLink","history","useHistory","submitURL","axios","post","src","then","res","data","push","catch","err","postYoutubeSrc","opts","playerVars","autoplay","marginTop","display","alignItems","fontWeight","textDecoration","color","position","left","top","marginBottom","backgroundColor","padding","borderRadius","boxShadow","value","onChange","e","target","textAlign","url","pdf","demoLink","flex","videoId","split","window","location","configureStore","reducer","systemReducer","Timeline","seconds","player","seekTo","playAt","useSelector","previewImage","setPreviewImage","statusText","setStatusText","progress","setProgress","toggleKeyFrame","helperText","secondsToMinutes","s","m","Math","floor","useEffect","interval","setInterval","getCurrentTime","clearInterval","visibility","borderStyle","borderWidth","borderColor","id","class","dataLength","next","hasMore","slice","onMouseOver","updatePosition","onMouseLeave","document","getElementById","onMouseEnter","event","x","clientX","y","clientY","preview","moveImg","onDoubleClick","img","skipToKeyFrame","viewKeyFrame","cursor","PDFTemplate","KFA","blockCounts","weight","border","title","duration","length","Date","toJSON","replace","content","layoutTypeRows","resize","rows","defaultValue","transcript","Boolean","hostname","match","ReactDOM","render","StrictMode","store","exact","path","component","playerObj","setPlayerObj","intervalID","setIntervalID","setSeconds","isLoading","setIsLoading","intervalId","get","params","uuid","attributesJSON","JSON","parse","job","outputs","round","marginRight","marginInline","bottom","onReady","numOfFrames","getDuration","testFrames","Array","from","v","k","playVideo","onStateChange","second","pauseVideo","setTitle","enableKFA","switchEnableKFA","sort","timestampsStrings","toString","options","method","headers","Accept","timestamps","request","response","text","text_length","error","margin","checked","overflow","print","overflowY","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.396031f4.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n// import {\n//   decrement,\n//   increment,\n//   incrementByAmount,\n//   incrementAsync,\n//   selectCount,\n// } from './counterSlice';\nimport styles from './Header.css';\n\nexport function Header() {\n  return (\n    <header>\n      <div className=\"topNavBar\">\n        <div><Link className=\"logo\" to=\"/\">KE</Link></div>\n          {/* <Link className=\"tabItem\" to=\"/\">Home</Link>\n          <Link className=\"tabItem\" to=\"/uploader\">Upload</Link>\n          <Link className=\"tabItem\" to=\"/editor\">Editor</Link>\n          <Link className=\"tabItem\" to=\"/preview\">Preview</Link>\n          <Link className=\"tabItem\" to=\"/download\">Download</Link> */}\n      </div>\n      {/* <hr className=\"divider\" class=\"solid\"></hr> */}\n    </header>\n  );\n}","import React, { useState } from 'react';\nimport styles from './Button.css';\n//todo: disable state color schemes s\nexport function Button({\n  onClick,\n  iconBefore, //icon before label\n  label, //text \n  iconAfter, //icon after label\n  width = '150px',\n  height= '25px' // (large, medium, small) \n}) {\n  return (\n    <div type=\"button\" className=\"button\" style={{width: width}} onClick={onClick}>\n      <span className=\"label\">{label}</span>\n    </div>\n  )\n}","import React, { useState } from 'react';\nimport styles from './Card.css';\n//todo: disable state color schemes s\nexport function Card({\n  onPress,\n  iconBefore, //icon before label\n  label, //text \n  iconAfter, //icon after label\n  width = '250px',\n  height = '300px',\n  flexDirection = 'row', // (large, medium, small)\n  children\n}) {\n  return (\n    <div type=\"card\" className=\"card\" style={{ width: width, height: height, flexDirection: flexDirection, justifyContent: 'space-around' }} onClick={onPress}>\n      {children}\n    </div>\n  )\n}","import { createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const systemSlice = createSlice({\r\n  name: 'system',\r\n  initialState: {\r\n    logo: \"KE\",\r\n    extractionDetails: null,\r\n    attributes: null,\r\n    youtubeURL: \"\",\r\n    frames: [],\r\n    keyframes: [],\r\n    totalVideoTime: 0,\r\n    frameScriptTuple: null,\r\n    owner: null,\r\n    jobIsCompleted: false,\r\n    extractionProgress: 0,\r\n    loadedFramesNum: 600,\r\n  },\r\n  reducers: {\r\n    setYoutubeURL: (state, action) => {\r\n      state.youtubeURL = action.payload;\r\n    },\r\n    setOwner: (state, action) => {\r\n      state.owner = action.payload;\r\n    },\r\n    setFrames: (state, action) => {\r\n      state.frames = action.payload;\r\n    },\r\n    setFrameScriptTuple: (state, action) => {\r\n      state.frameScriptTuple = action.payload;\r\n    },\r\n    setAttributes: (state, action) => {\r\n      state.attributes = action.payload;\r\n    },\r\n    setContents: (state, action) => {\r\n      state.contents = action.payload;\r\n    },\r\n    addKeyframes: (state, action) => {\r\n      state.keyframes = state.keyframes.concat(action.payload);\r\n    },\r\n    appendKeyFrame: (state, action) => {\r\n      state.keyframes = [{ vid_time: action.payload.index, img_addr: action.payload.imgAddr, userCreated: true }, ...state.keyframes];\r\n    },\r\n    completesJob: (state, action) => {\r\n      state.jobIsCompleted = true\r\n    },\r\n    setExtractionProgress: (state, action) => {\r\n      state.extractionProgress = action.payload\r\n    },\r\n    addLoadedFramesNum: (state, action) => {\r\n      state.loadedFramesNum = (state.loadedFramesNum + 600) > state.totalVideoTime ? state.totalVideoTime : (state.loadedFramesNum + 600)\r\n    },\r\n    setTotalVideoTime: (state, action) => {\r\n      state.totalVideoTime = action.payload\r\n    },\r\n    setExtractionDetails: (state, action) => {\r\n      state.extractionDetails = action.payload\r\n    },\r\n    setKeyFrames: (state, action) => {\r\n      state.keyframes = action.payload\r\n    },\r\n    toggleKeyframeFromFrame: (state, action) => {\r\n      state.frames = state.frames.map(\r\n        (frame, i) => i === action.payload.index ? { ...frame, isKey: action.payload.status, imgAddr: action.payload.imgAddr } : frame);\r\n    }\r\n  },\r\n});\r\n\r\nexport const { toggleKeyframeFromFrame, setKeyFrames, setExtractionDetails, setTotalVideoTime, addLoadedFramesNum, setExtractionProgress, completesJob, appendKeyFrame, addKeyframes, setOwner, setYoutubeURL, setFrames, setFrameScriptTuple, setAttributes, setContents } = systemSlice.actions;\r\n\r\n\r\nexport const postYoutubeSrc = (link, history) => dispatch => {\r\n\r\n  console.log('SYSTEM/postYoutubeSrc')\r\n  dispatch(setYoutubeURL(link));\r\n  return axios.post(`http://ke.ddns.net/api/job`, { src: link })\r\n    .then(res => {\r\n      dispatch(setOwner(res.data.data.owner));\r\n      history.push(\"/editor\");\r\n    })\r\n    .catch(err => {\r\n      console.log(err.status);\r\n    });\r\n};\r\n\r\nexport const getJobStatus = () => (dispatch, getState) => {\r\n\r\n  const owner = getState().system.owner;\r\n  const src = getState().system.youtubeURL;\r\n  const attributes = getState().system.attributes;\r\n  const frames = getState().system.frames;\r\n  console.log('SYSTEM/getJobStatus')\r\n  // console.log(\"frames: \", frames);\r\n\r\n  return axios.get(`http://ke.ddns.net/api/job`, {\r\n    params: {\r\n      uuid: owner,\r\n      src: src\r\n    }\r\n  })\r\n    .then(res => {\r\n\r\n      var attributesJSON = JSON.parse(res.data.data.job.attributes);\r\n      if (attributes==null)\r\n        dispatch(setAttributes(attributesJSON));\r\n      dispatch(addKeyframes(res.data.data.outputs));\r\n      dispatch(fetchKeyFrames(res.data.data.outputs[0].id))\r\n      dispatch(setExtractionProgress(Math.round(res.data.data.outputs[res.data.data.outputs.length - 1].vid_time * 100 / attributesJSON.length)));\r\n\r\n      if (res.data.data.job.status == \"finished\") {\r\n        console.log('Job completed');\r\n        dispatch(completesJob());\r\n        dispatch(setExtractionProgress(100));\r\n      }\r\n    })\r\n    .catch(err => {\r\n      // console.log(err.status);\r\n      // console.log(err.response);\r\n    });\r\n};\r\n\r\nexport const fetchKeyFrames = (start) => (dispatch, getState) => {\r\n\r\n  console.log('SYSTEM/fetchKeyFrames')\r\n  var frames = [];\r\n  var newFrames = [...getState().system.frames];\r\n  var keyframes = [...getState().system.keyframes];\r\n\r\n  //array.copy \r\n\r\n  //only handles sub array \r\n  // state.frames = state.frames.map(\r\n  //   (frame, i) => i === action.payload ? { ...frame, isExtracted: true, isKey: true } : frame);\r\n  // console.log(\"keyframes a:\", keyframes);\r\n  // console.log(\"frames a:\", newFrames);\r\n\r\n  keyframes.map((keyframe, index) => {\r\n    newFrames[keyframe.vid_time] = { ...newFrames[keyframe.vid_time], imgAddr: keyframe.img_addr, isExtracted: keyframe.userCreated ? false : true, isKey: true };\r\n  });\r\n\r\n  dispatch(setFrames(newFrames));\r\n};\r\n\r\nexport const initializeFrames = (numOfFrames) => (dispatch, getState) => {\r\n\r\n  dispatch(setTotalVideoTime(numOfFrames));\r\n\r\n  console.log(numOfFrames);\r\n  var seconds = numOfFrames;\r\n  var testFrames = Array.from({ length: seconds }, (v, k) => k).map(k => ({\r\n    id: `init-${k}`,\r\n    label: \"\",\r\n    isExtracted: false,\r\n    isKey: false\r\n  }));\r\n\r\n  dispatch(setFrames(testFrames));\r\n\r\n};\r\n\r\n\r\n\r\nexport const processFrameScriptTuple = (n) => (dispatch, getState) => {\r\n\r\n  console.log('SYSTEM/processFrameScriptTuple')\r\n  var keyframes = [...getState().system.keyframes];\r\n  keyframes.sort(compare);\r\n  var youtubeURL = getState().system.youtubeURL;\r\n\r\n  var timestampsStrings = \"[0\";\r\n  keyframes.map((keyframe, index) => (\r\n    timestampsStrings += ',' + keyframe.vid_time.toString()\r\n  ));\r\n  timestampsStrings += ']'\r\n\r\n  const options = {\r\n    method: 'GET',\r\n    url: 'http://ke.ddns.net/api/transcript',\r\n    headers: { Accept: 'application/json', 'Content-Type': 'application/json' },\r\n    params: { // was data: {\r\n      src: youtubeURL,\r\n      timestamps: timestampsStrings\r\n    }\r\n  };\r\n\r\n  function getRows(text_length){\r\n    var m_breakpoint = 280;\r\n    var l_breakpoint = 700;\r\n    var xl_breakpoint = 1200;\r\n\r\n    if(text_length > xl_breakpoint)\r\n    return 4\r\n    else if (text_length > l_breakpoint)\r\n    return 3\r\n    else if (text_length > m_breakpoint)\r\n    return 2\r\n    else return 1;\r\n    \r\n  }\r\n\r\n  axios.request(options).then(function (response) {\r\n    var contents = Array.from({ length: keyframes.length }, (v, k) => k).map(k => ({\r\n      id: `fsd-${k}`,\r\n      frame: keyframes[k].img_addr,\r\n      transcript: response.data.data[k].text,\r\n      layoutTypeRows: getRows(response.data.data[k].text.length)\r\n    }));\r\n\r\n    console.log(contents)\r\n    dispatch(setContents(contents));\r\n  }).catch(function (error) {\r\n    console.log(error);\r\n  });\r\n};\r\n\r\nexport const fetchNewKeyFrame = (index, status) => (dispatch, getState) => {\r\n\r\n  console.log('SYSTEM/fetchNewKeyFrame');\r\n  var youtubeURL = getState().system.youtubeURL;\r\n  var frameNum = parseInt(index) * 30;\r\n  var addr = 'http://ke.ddns.net/api/frame?src=' + youtubeURL + ' &frame_no=' + frameNum;\r\n  dispatch(toggleKeyframeFromFrame({ index: index, status: status, imgAddr: addr }));\r\n  if (status) //add\r\n    dispatch(appendKeyFrame({ index: index, status: status, imgAddr: addr }));\r\n  else { //remove\r\n    var keyframes = [...getState().system.keyframes].filter(keyframe => keyframe.vid_time != index);\r\n    dispatch(setKeyFrames(keyframes));\r\n  }\r\n};\r\n\r\nfunction compare(a, b) {\r\n  if (a.vid_time < b.vid_time) {\r\n    return -1;\r\n  }\r\n  if (a.vid_time > b.vid_time) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\n\r\nexport const setLoadedFramesNum = state => state.system.loadedFramesNum;\r\nexport const selectJobIsCompleted = state => state.system.jobIsCompleted;\r\nexport const selectExtractionProgress = state => state.system.extractionProgress;\r\nexport const selectYoutubeURL = state => state.system.youtubeURL;\r\nexport const selectFrames = state => state.system.frames;\r\nexport const selectFrameScriptTuple = state => state.system.frameScriptTuple;\r\nexport const selectAttributes = state => state.system.attributes;\r\nexport const selectContents = state => state.system.contents;\r\n\r\nexport default systemSlice.reducer;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Header } from './components/Header';\r\nimport { Button } from './components/Button';\r\nimport { Card } from './components/Card';\r\nimport './App.css';\r\nimport YouTube from 'react-youtube';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { postYoutubeSrc, submitURL } from \"../src/features/systemSlice\";\r\n\r\nfunction App() {\r\n\r\n  const dispatch = useDispatch();\r\n  const [link, setLink] = useState('https://www.youtube.com/watch?v=a6sNwOSAxoo');\r\n  const demoLinks = [\r\n    {\r\n      url: \"https://www.youtube.com/watch?v=rOTqprHv1YE\",\r\n      name: \"What Is Docker? | What Is Docker And How It Works? | Docker Tutorial For Beginners | Simplilearn\",\r\n      vid_time: '15:51',\r\n      pdf: '/KE_What Is Docker_ _ What Is Docker And How It Works_ _ Docker Tutorial For Beginners _ Simplilearn.pdf'\r\n    },\r\n    {\r\n      url: \"https://www.youtube.com/watch?v=mgipNdAgQ3o\",\r\n      name: \"Ten SQL Tricks that You Didn’t Think Were Possible (Lukas Eder)\",\r\n      vid_time: '45:09',\r\n      pdf: 'KE_Ten SQL Tricks that You Didn’t Think Were Possible (Lukas Eder).pdf'\r\n\r\n    },\r\n    {\r\n      url: \"https://www.youtube.com/watch?v=a6sNwOSAxoo\",\r\n      name: \"Styles & Theming in React Native - a webinar by Haris Mahmood\",\r\n      vid_time: '1:23:56',\r\n      pdf: '/KE_Styles & Theming in React Native - a webinar by Haris Mahmood.pdf'\r\n    }\r\n  ];\r\n  const history = useHistory();\r\n\r\n  function submitURL(link) {\r\n    // sample 1: https://www.youtube.com/watch?v=6u7aQV_2-2U\r\n    // sample 2: https://www.youtube.com/watch?v=QiTq5WrWoJw\r\n\r\n    //@TODO: error checking if its a youtube link\r\n    dispatch(postYoutubeSrc(link, history));\r\n  }\r\n\r\n  function downloadPdf(pdf) {\r\n    window.location = pdf;\r\n  }\r\n\r\n  const opts = {\r\n    height: '120',\r\n    width: '213',\r\n    playerVars: {\r\n      autoplay: 0,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className='app'>\r\n      {/* <Header />\r\n      <h1>Videos to  Frames with Key Extractor</h1>\r\n      <div style={{ display: 'flex', alignItems: \"center\", justifyContent: \"center\" }}>\r\n        <div>\r\n          <Card flexDirection='row' width=\"814px\" height=\"100px\">\r\n            <div>\r\n              <span>Paste Youtube Link: </span>\r\n              <input class=\"input\" type=\"text\" value={link} onChange={(e) => setLink(e.target.value)}></input>\r\n            </div>\r\n            <Button label=\"Ready to Edit\" onClick={() => submitURL(link)}></Button>\r\n          </Card>\r\n        </div> */}\r\n      {/* <Header /> */}\r\n      <div style={{ marginTop: 100, display: \"flex\", alignItems: \"center\", justifyContent: \"center\", }}>\r\n        <div style={{ width: 814 }}>\r\n          <Link to=\"/\" style={{ fontWeight: \"bolder\", textDecoration: \"none\", color: \"black\" }}>Keyframe Extractor</Link>\r\n        </div>\r\n      </div>\r\n      <div style={{ display: 'flex', alignItems: \"center\", justifyContent: \"center\", flexDirection: \"column\" }}>\r\n        <h1 style={{ position: \"relative\" }}>\r\n          Extract what matters in a video\r\n          <div style={{\r\n            position: \"absolute\",\r\n            left: 444,\r\n            top: -40,\r\n          }}>\r\n            <img src=\"landing-image.png\"\r\n              style={{\r\n                width: 400,\r\n              }} />\r\n          </div>\r\n        </h1>\r\n        <div className=\"subheading\">\r\n          Detect key frames, transcribe video, export PDF.\r\n          <br />\r\n          All can be done in a few clicks.\r\n        </div>\r\n\r\n        <div style={{\r\n          marginBottom: 60,\r\n          width: 814\r\n        }}>\r\n          <span>Tired of watching hour-long videos?</span>\r\n\r\n          <div style={{ height: 8 }} />\r\n\r\n          <div style={{\r\n            display: \"flex\",\r\n            width: \"fit-content\",\r\n            flexDirection: \"row\",\r\n            backgroundColor: \"white\",\r\n            // border: \"1px solid black\",\r\n            padding: 8,\r\n            borderRadius: 5,\r\n            boxShadow: \"5px 10px 20px #DADADA\",\r\n          }}>\r\n            <input className=\"input\" type=\"text\" value={link} onChange={(e) => setLink(e.target.value)}></input>\r\n            <Button label=\"Ready to Edit\" onClick={() => submitURL(link)}></Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{height: 50, textAlign: \"center\", marginTop: 30}}>\r\n        Demo\r\n      </div>\r\n\r\n      <div className='menu'>\r\n        <Card flexDirection='row' width=\"814px\" height=\"340px\">\r\n          {demoLinks.map((demoLink, i) => (\r\n            <div style={{ display: 'flex',flex:1,  height: 300,  flexDirection: 'column', alignItems: \"center\", textAlign: 'center', justifyContent: 'space-around' }}>\r\n              <YouTube videoId={demoLink.url.split('=')[1]} opts={opts} />\r\n              <span> {demoLink.name} </span>\r\n              <div>Duration: {demoLink.vid_time}</div>\r\n              <Button label=\"Try the Demo\" onClick={() => submitURL(demoLink.url)}></Button>\r\n              <Button label=\"Download Result PDF\" onClick={() => downloadPdf(demoLink.pdf)}></Button>\r\n            </div>\r\n          ))}\r\n\r\n        </Card>\r\n      </div>\r\n\r\n      <div style={{ height: 40 }} />\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport systemReducer from '../features/systemSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    system: systemReducer\r\n  },\r\n});\r\n","import React, { useState, useEffect } from 'react';\nimport styles from './Timeline.css';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { addLoadedFramesNum, setLoadedFramesNum, fetchNewKeyFrame, selectFrames } from '../systemSlice';\n\nconst reorder = (list, startIndex, endIndex) => {\n  const [removed] = list.splice(startIndex, 1);\n  list.splice(endIndex, 0, removed);\n  return list;\n};\n\nexport function Timeline({ seconds, player, seekTo, playAt, extractionProgress }) {\n  const dispatch = useDispatch();\n  const frames = useSelector(selectFrames);\n  const loadedFramesNum = useSelector(setLoadedFramesNum);\n  const [previewImage, setPreviewImage] = useState('https://149359300.v2.pressablecdn.com/wp-content/uploads/2019/11/placeholder.png');\n  const [statusText, setStatusText] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setProgress(player.getCurrentTime());\n    }\n      , 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  function loadsMore() {\n    console.log('loads more, current:', loadedFramesNum);\n    dispatch(addLoadedFramesNum());\n\n  }\n\n  function viewKeyFrame(index) {\n    setProgress(index);\n    seekTo(index);\n  }\n\n\n  function skipToKeyFrame(index, img) {\n    setProgress(index);\n    playAt(index);\n  }\n\n\n  function toggleKeyFrame(index, status = false) {\n    console.log('toggle:' + index);\n    status = !status;\n    dispatch(fetchNewKeyFrame(parseInt(index), status));\n    var helperText = status ? \"ADDED\" : \"REMOVED\";\n    setStatusText(\"Last \" + helperText + \" keyframe at \" + secondsToMinutes(index));\n  }\n\n  function secondsToMinutes(s) {\n    var m = Math.floor(s / 60);\n    var s = s % 60;\n    if (s < 10) return `${m}:0${s}`\n    else return `${m}:${s}`;\n  }\n\n  function updatePosition(index) {\n    setStatusText(\"Mouse is on \" + secondsToMinutes(index));\n  }\n\n  function moveImg(event, isKey, imgAddr) {\n\n    if (isKey && imgAddr) {\n      setPreviewImage(imgAddr);\n      var x = event.clientX;\n      var y = event.clientY - 146;\n      \n      var preview = document.getElementById(\"preview\");\n\n      preview.style.visibility = 'visible';\n      preview.style.left = x + 'px';\n      preview.style.top = y + 'px';\n    }\n  }\n\n  function hidePreview() {\n      var preview = document.getElementById(\"preview\");\n      preview.style.visibility = 'hidden';\n  }\n\n  return (\n    <div>\n      <div>\n        <img height={146} width={261} style={{ position: 'absolute', visibility: 'hidden', borderStyle: 'solid', borderWidth: '1px' , borderColor: 'grey' }} src={previewImage} id='preview' />\n      </div>\n      <div class=\"controlPane\">\n        <span class=\"helperText\">{statusText}</span>\n        <div class=\"controlButtons\">\n          <span> {secondsToMinutes(Math.floor(progress))} /{secondsToMinutes(seconds)} </span>\n        </div>\n      </div>\n\n      <div class=\"progressBar\">\n        {/* {console.log(progress/seconds)} */}\n        <div class=\"TimeProgressNode\" style={{ width: `${progress / seconds * 100}%` }} />\n      </div>\n\n      <InfiniteScroll\n        dataLength={loadedFramesNum} //This is important field to render the next data\n        next={loadsMore}\n        hasMore={true}\n        className=\"wrapper\">\n        {frames.slice(0, loadedFramesNum).map((frame, index) =>\n          <div\n            key={index}\n            onMouseOver={() => updatePosition(index)}\n            class=\"item\"\n            style={{ display: 'flex', backgroundColor: frame.isKey ? 'lightgray' : 'white' }}\n          >\n            <div class=\"view\" style={{ display: 'flex', width: 10, flex: 3 }} onMouseLeave={()=>hidePreview()} onMouseEnter={(e) => { moveImg(e, frame.isKey, frame.imgAddr) }} onDoubleClick={() => skipToKeyFrame(index, frame.imgAddr)} onClick={() => { frame.isKey ? viewKeyFrame(index) : toggleKeyFrame(index, frame.isKey) }}></div>\n            {frame.isKey ? (<div class=\"remove\" style={{ display: 'flex', justifyContent: 'center', backgroundColor: frame.isExtracted ? 'aquamarine' : 'pink', flex: 1, cursor: \"pointer\" }} onClick={() => toggleKeyFrame(index, frame.isKey)}>×</div>) : (<div style={{ display: 'flex', flex: 0 }} class=\"none\"></div>)}\n          </div>\n        )}\n      </InfiniteScroll>\n    </div>\n  );\n}","import React from 'react';\nexport function PDFTemplate({ contents = [{frame:'https://149359300.v2.pressablecdn.com/wp-content/uploads/2019/11/placeholder.png'}], attributes = \"loading\", KFA = true }) {\n  var blockCounts = 0;\n\n  function getToday() {\n    var utc = new Date().toJSON().slice(0, 10).replace(/-/g, '/');\n    return utc;\n  }\n\n  return (\n    <div style={{ width: 595 - 44, height: 595 * 1.618 - 44, padding: 24 }}>\n      {KFA ? (\n        <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between', alignItems: 'center', marginTop: 16, marginBottom: 16, weight: 595 - 44, height: 962 }} >\n          <div style={{ height: 50 }}></div>\n          <div style={{ display: 'flex', border: '1px solid black', height: 146, width: 261, justifyContent: 'center', alignItems: 'center' }}>\n            <img src={contents[0].frame} height={322} width={522} />\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-evenly', alignItems: 'center', height: 200}}>\n            <span>Video Title:</span>\n            <text> {attributes.title}</text>\n            <span>Video Duration:</span>\n            <text> {attributes.duration}</text>\n            <span> # of Extracted Keyframes:  </span>\n            <text>{contents.length} </text>\n            <span> Date of Extraction:  </span>\n            <text>{getToday()} </text>\n          </div>\n\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-evenly', alignItems: 'flex-end' }}>\n            <span>© Keyframe Extractor 2021 </span>\n          </div>\n          <div class=\"pagebreak\"></div>\n        </div>) : (\n        <div>\n          {contents.map((content, index) => (\n            <div key={index}>\n              <div style={{ display: 'none' }}>{blockCounts += content.layoutTypeRows} </div>\n              {blockCounts > 5 ? (<div class=\"pagebreak\"><div style={{ display: 'none' }}>{blockCounts = content.layoutTypeRows}</div></div>) : <></>}\n              {content.layoutTypeRows == 1 ? (\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexDirection: 'row', marginTop: 16, marginBottom: 16 }}>\n                  <div style={{ display: 'flex', border: '1px solid black', height: 146, width: 261, justifyContent: 'center', alignItems: 'center' }}>\n                    <img src={content.frame} height={146} width={261} />\n                  </div>\n                  <textarea resize='auto' rows=\"10\" defaultValue={content.transcript} style={{ width: 261, height: 144 }}>\n                  </textarea>\n                </div>\n              ) : (\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', flexDirection: 'column', marginTop: 16, marginBottom: 16 }}>\n                  <div style={{ display: 'flex', marginBottom: 16, border: '1px solid black', height: 146, width: 261, justifyContent: 'center', alignItems: 'center' }}>\n                    <img src={content.frame} height={146} width={261} />\n                  </div>\n                  <textarea resize='auto' rows={content.layoutTypeRows == 2 ? \"10\" : (content.layoutTypeRows == 3 ? \"22\" : \"33\")} defaultValue={content.transcript} style={{ width: 546 }}>\n                  </textarea>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>)}\n    </div>\n  );\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport { Editor } from './features/editor/Editor';\r\nimport { Preview } from './features/preview/Preview';\r\nimport { Export } from './features/export/Export';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'fontsource-roboto';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch\r\n} from 'react-router-dom';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n          <Router>\r\n            <Switch>\r\n              <Route exact path='/' component={App}></Route>\r\n              <Route exact path='/editor' component={Editor}></Route>\r\n              <Route exact path='/preview' component={Preview}></Route>\r\n              <Route exact path='/export' component={Export}></Route>\r\n            </Switch>\r\n          </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();","import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Header } from '../../components/Header';\nimport { Button } from '../../components/Button';\nimport { Timeline } from './Timeline'\nimport YouTube from 'react-youtube';\nimport { initializeFrames, selectExtractionProgress, selectJobIsCompleted, selectYoutubeURL, getJobStatus, setKeyFrames } from '../systemSlice';\n\nexport function Editor() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const extractionProgress = useSelector(selectExtractionProgress);\n  const jobIsCompleted = useSelector(selectJobIsCompleted);\n  const youtubeURL = useSelector(selectYoutubeURL);\n  const [playerObj, setPlayerObj] = useState(null);\n  const [intervalID, setIntervalID] = useState(null);\n  const [seconds, setSeconds] = useState(800);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const opts = {\n    height: '390',\n    width: '640',\n    playerVars: {\n      autoplay: 1,\n    },\n  };\n\n  // calling dispatch(getJobStatus()) every 5 seconds\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      if (!jobIsCompleted) {\n        dispatch(getJobStatus());\n        console.log(\"fetch new frames every 2 seconds\")\n      }\n    }\n      , 2000);\n\n      setIntervalID(intervalId);\n  }, []); //stop when job is finished \n\n  useEffect(() => {\n    clearInterval(intervalID);\n  }, [jobIsCompleted]); //stop when job is finished \n\n\n  const onReady = (e) => {\n    // console.log(e.target);\n    setPlayerObj(e.target);\n    setSeconds(e.target.getDuration());\n    setIsLoading(false);\n    dispatch(initializeFrames(e.target.getDuration()));\n    e.target.playVideo();\n  }\n\n  function onStateChange(e) {\n    // console.log(e.target.getCurrentTime());\n  }\n\n  function seekTo(second) {\n    // console.log(\"seek to: \", second);\n    playerObj.seekTo(second);\n    playerObj.pauseVideo();\n  }\n\n  function playAt(second) {\n    // console.log(\"play at: \", second);\n    playerObj.seekTo(second);\n    playerObj.playVideo();\n  }\n\n  function saveAndPreview() {\n    history.push(\"/preview\");\n  }\n\n  return (\n    <div>\n      <Header />\n      <div style={{ display: 'flex', marginRight: 20, marginBottom: 10, justifyContent: 'flex-end' }}>\n        <Button onClick={() => saveAndPreview()} label=\"Preview PDF\"></Button>\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', height: '400px', marginInline: 20, position: \"relative\" }}>\n        <div>\n          <span>Instruction</span>\n          <ol>\n            <li> Add Keyframe by clicking a frame on Timeline. </li>\n            <li> Remove Keyframe by clicking (x) on it. </li>\n            <li> Click on Keyframe to view the Keyframe on Video Player </li>\n            <li> Hover on Keyframe to preview them</li>\n            <li> Double click on frame to play from it</li>\n            <li> Export when you feel good about all the Keyframes </li>\n          </ol>\n\n          <div style={{position: \"absolute\", bottom: 30}}>\n            <span>Automatic Extraction Status: {extractionProgress}% extracted</span>\n            <div style={{backgroundColor: \"#ddd\", height: 5}}>\n              <div class=\"ExtractProgressNode\" style={{ width: `${extractionProgress}%` }} />\n            </div>\n          </div>\n\n        </div>\n        <YouTube videoId={youtubeURL.split('=')[1]} opts={opts} onReady={onReady} onStateChange={onStateChange} />\n      </div>\n\n      {!isLoading ? (\n        <Timeline extractionProgress={extractionProgress} isLoading={isLoading} seconds={seconds} player={playerObj} seekTo={seekTo} playAt={playAt} />\n      ) : (\n        <></>\n      )}\n\n    </div >\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport { Header } from '../../components/Header';\nimport { Button } from '../../components/Button';\nimport { Card } from '../../components/Card';\nimport { PDFTemplate } from './PDFTemplate'\nimport { selectContents, selectAttributes, processFrameScriptTuple } from '../systemSlice';\n\nexport function Preview() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const contents = useSelector(selectContents);\n  const attributes = useSelector(selectAttributes);\n  const [title, setTitle] = useState('New Note');\n  const [enableTranscript, switchEnableTranscript] = useState(true);\n  const [enableKFA, switchEnableKFA] = useState(true);\n\n  useEffect(() => {\n    setTitle(\"KE_\" + attributes.title)\n    dispatch(processFrameScriptTuple(4)); //reduce frame scripts duples to group of 4. \n  }, []);\n\n  function triggerPrint() {\n    document.getElementById('toPrint').style.overflow = 'unset';\n    document.getElementById('hide').style.display = 'none';\n    document.getElementById('hideHeader').style.display = 'none';\n    document.getElementById('hideButtons').style.display = 'none';\n    document.title = title;\n    window.print();\n    document.getElementById('hide').style.display = 'flex';\n    document.getElementById('hideButtons').style.display = 'flex';\n    document.getElementById('hideHeader').style.display = 'block';\n    document.getElementById('toPrint').style.overflow = 'scroll';\n  }\n\n  function finishPreview() {\n    history.push(\"/\");\n  }\n\n  return (\n    <div id='original'>\n      <div id='hideHeader'>\n        <Header />\n      </div>\n      <div id='hideButtons' style={{ display: 'flex', marginRight: 20, marginBottom: 10, justifyContent: 'flex-end' }}>\n        <Button label=\"Back\" onClick={() => { history.push(\"editor\") }}></Button>\n        <Button label=\"Finish\" onClick={() => finishPreview()}></Button>\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row', justifyContent: \"center\" }}>\n        <div id='hide' style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginInline: 20 }}>\n          <Card height={'auto'} width={'auto'} flexDirection={'column'}>\n            <div>\n              <div style={{ display: 'flex', flexDirection: 'column', margin: 5 }}>\n\n                <h2>Export Options</h2>\n\n                <br />\n\n                <div style={{ display: 'flex', flexDirection: 'column' }} >\n                  <div style={{ fontWeight: \"bold\" }}>Page Title</div>\n                  <input style={{ width: 180, margin: 5 }} type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)}></input>\n                </div>\n\n                <br />\n\n                <div style={{ display: 'flex', flex: 1 , flexDirection: 'column'}}>\n                  <div style={{ fontWeight: \"bold\" }}>Cover Page</div>\n                  <div  style={{ display: 'flex', flex: 1 , flexDirection: 'row'}}>\n                  <input type=\"checkbox\" id=\"KFA\" name=\"KFA\" checked={enableKFA} onChange={() => switchEnableKFA(!enableKFA)}></input>\n                  <div>Enable Cover Page</div>\n                  </div>\n                </div>\n\n                <br />\n                <div style={{ display: 'flex', justifyContent: 'center'}}>\n                <Button label=\"Print as PDF\" onClick={() => triggerPrint()}></Button>\n                </div>\n              </div>\n            </div>\n          </Card>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', marginInline: 20 }}>\n          <div id=\"toPrint\" style={{ overflowY: 'scroll', height: 580, display: 'block', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', marginInline: 20 }}>\n            {enableKFA ? (<PDFTemplate title={title} contents={contents} attributes={attributes} KFA={true} />) : (<></>)}\n            <PDFTemplate title={title} contents={contents} KFA={false} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n// import {\n//   decrement,\n//   increment,\n//   incrementByAmount,\n//   incrementAsync,\n//   selectCount,\n// } from './counterSlice';\n// import styles from './Counter.module.css';\n\nexport function Export() {\n  // const count = useSelector(selectCount);\n  // const dispatch = useDispatch();\n  // const [incrementAmount, setIncrementAmount] = useState('2');\n\n  return (\n    <div>\n      <span>Download PDF</span>\n    </div>\n  );\n}\n"],"sourceRoot":""}